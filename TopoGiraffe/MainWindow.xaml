<Window x:Class="TopoGiraffe.MainWindow"

        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:xctk="http://schemas/xceed.com/wpf/xaml/toolkit"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TopoGiraffe"
        xmlns:utils="clr-namespace:TopoGiraffe"
        xmlns:xctk1="http://schemas.xceed.com/wpf/xaml/toolkit"
        mc:Ignorable="d"
        Title="MainWindow" Height="700" Width="1500"  WindowStartupLocation="CenterScreen" ResizeMode="CanResizeWithGrip" WindowState="Maximized" >




    <Window.Resources>
        <Color x:Key="ToolsBar">#353635D6</Color>
    </Window.Resources>
    <Window.Background>
        <SolidColorBrush Opacity="0.8" Color="White"/>
    </Window.Background>






    <Grid>




        <Grid.RowDefinitions>
            <RowDefinition Height="20"/>
            <RowDefinition Height="84"/>
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0">
            <Menu DockPanel.Dock="Top">
                <MenuItem Header="_Fichier">
                    <MenuItem Header="_Nouveau" Click="import_Click"/>
                    <MenuItem Header="_Ouvrir" />
                    <MenuItem Header="_Sauvegarder" />
                    <Separator />
                    <MenuItem Header="_Exit" Click="MenuItem_Click" />
                </MenuItem>
            </Menu>
            <TextBox AcceptsReturn="True" />
        </DockPanel>




        <Grid Grid.Row="1" Background="#053047" Opacity=".84" >
            <StackPanel HorizontalAlignment="Center" Orientation="Horizontal" >
                <Button  x:Name="btn11" Width="90" Height="84" Background="#0000" BorderBrush="Transparent"
        BorderThickness="0"  Margin="40,0,0,0" >
                    <Image Source="/assets/img/draw.png" Width="30" Height="30" />
                </Button>
                <Button  x:Name="btn12" Width="90" Height="84"  Background="{x:Null}"  BorderBrush="Transparent"
        BorderThickness="0"  Margin="40,0,0,0" >
                    <Image Source="/assets/img/tour.png" Width="30" Height="30"/>
                </Button>
                <Button  x:Name="btn13" Width="90" Height="84"  Background="{x:Null}"  BorderBrush="Transparent"
        BorderThickness="0"  Margin="40,0,0,0" >
                    <Image Source="/assets/img/report.png" Width="30" Height="30"/>
                </Button>
                <Button  x:Name="btn14" Width="90" Height="84"  Background="{x:Null}"  BorderBrush="Transparent"
        BorderThickness="0"  Margin="40,0,0,0" Foreground="#FFA37A7A" >
                    <Image Source="/assets/img/gear.png" Width="30" Height="30"/>
                </Button>
            </StackPanel>
        </Grid>
        <Grid  Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="117" />
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="337" />
            </Grid.ColumnDefinitions>


            <utils:ZoomBorder x:Name="border" ClipToBounds="True" Background="#FFFCFAFA" Grid.Column="1" Margin="1,0,0,7" RenderTransformOrigin="0.5,0.5" KeyDown="border_KeyDown">
                <utils:ZoomBorder.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform AngleY="-0.51"/>
                        <RotateTransform Angle="0.456"/>
                        <TranslateTransform Y="3.009"/>
                    </TransformGroup>
                </utils:ZoomBorder.RenderTransform>
                <Grid>
                    <Image Margin="12,12,10,9.8" Name="imgPhoto" Grid.Column="1"  />

                    <Canvas x:Name="mainCanvas" Grid.Row="1" MouseEnter="mainCanvas_MouseEnter" MouseMove="mainCanvas_MouseMove" MouseLeftButtonDown="mainCanvas_MouseLeftButtonDown" MouseRightButtonDown="mainCanvas_MouseRightButtonDown" >
                        <Canvas.Background>
                            <SolidColorBrush Color="Azure" Opacity=".1"  />
                        </Canvas.Background>

                    </Canvas>
                </Grid>


            </utils:ZoomBorder>






            <Grid Grid.Column="2" Background="#C5C5C5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="11*"/>
                    <RowDefinition Height="189*"/>
                </Grid.RowDefinitions>
                <TextBlock Text="Propriétés"/>
                <StackPanel VerticalAlignment="Top" Height="388" Margin="0,25,0,0" Grid.Row="1" >
                    <TextBox x:Name="altitudeTextBox" Background="#E6E6E6" FontWeight="Bold" FontSize="17" Margin="33,7" Foreground="#515251" Height="54.12" VerticalAlignment="Stretch" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" GotFocus="altitudeTextBox_GotFocus" Text="Altitude"  Opacity="1" UndoLimit="98" SelectionOpacity="1" LostFocus="altitudeTextBox_LostFocus" ></TextBox>


                    <TextBlock Text="Couleurs :" Margin="33,7,32.8,.5"></TextBlock>

                    <ComboBox x:Name="colorComboBox" Text="Choisissez une couleur" Margin="33,7,32.8,7" Height="26" >
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Rectangle Fill="{Binding Rect.Fill}" Height="20" Width="20"/>
                                    <TextBlock Text="{Binding Name}"/>
                                </StackPanel>
                            </DataTemplate>

                        </ComboBox.ItemTemplate>


                    </ComboBox>

                    <TextBlock Text="Type de courbe" Margin="33,7,32.8,.5"></TextBlock>

                    <ComboBox x:Name="styleCourbeCmb" Text="Choisissez une couleur" Margin="33,7,32.8,7" Height="26" >
                        <ComboBoxItem >Courbe simple</ComboBoxItem>
                        <ComboBoxItem >Courbe intermediare</ComboBoxItem>
                        <ComboBoxItem >Courbe Maitresse</ComboBoxItem>
                    </ComboBox>
                    <TextBlock Text="Color Picker" Margin="33,7,32.8,.5"></TextBlock>
                    <xctk1:ColorPicker Name="cp"  Margin="33,7,32.8,.5" DisplayColorAndName="True" SelectedColorChanged="cp_SelectedColorChanged_1" AvailableColorsSortingMode="HueSaturationBrightness" ></xctk1:ColorPicker>

                </StackPanel>

                <ToolBar HorizontalAlignment="Left" VerticalAlignment="Bottom" Height="44" Margin="0,476,0,0" Grid.Row="1"  Width="337">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="Nombre de courbe: "/>
                        <TextBlock Name="nbrCourbes" Text="{Binding NbCourbes, Mode=TwoWay }"/>
                    </StackPanel>


                </ToolBar>
                <Label x:Name="AltitudeLabel" Content=" --" HorizontalAlignment="Left" Margin="137,299,0,0" Grid.Row="1" VerticalAlignment="Top" Width="107" FontFamily="HelveticaNeue" FontSize="20" Foreground="#FFE21111"/>
                <Label Content="Altitude : " HorizontalAlignment="Left" Margin="23,298,0,0" Grid.Row="1" VerticalAlignment="Top" Width="117" FontFamily="Gotham Medium" FontSize="22" FontStyle="Normal" />
            </Grid>


            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="84"/>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <Grid Grid.Row="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="300"/>

                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="1">
                        <StackPanel HorizontalAlignment="Right" Orientation="Horizontal" >
                            <Button  x:Name="display" Width="90" Height="84"  BorderBrush="Transparent"
                                BorderThickness="0" Click="display_Click" >
                                <Image Source="/assets/img/visibility.png" Width="30" Height="30" />
                            </Button>
                            <Button  x:Name="import" Width="85" Height="84"  BorderBrush="Transparent"
                                BorderThickness="0" Click="import_Click" >
                                <Image Source="/assets/img/import.png" Width="30" Height="30" />
                            </Button>

                        </StackPanel>
                    </Grid>
                </Grid>

            </Grid>
            <Grid Grid.Column="0" Background="#C5C5C5" Margin="0,0,25,0" >
                <StackPanel VerticalAlignment="Top"  Margin="0,58,-1,0" >
                    <Button  Name="nav" Width="38" Height="51"  Background="{x:Null}" BorderBrush="Transparent"
                        BorderThickness="0" Margin="0,0,0,20" Click="nav_Click" >
                        <Image Source="/assets/img/navigation.png" Height="30" Width="30"  ></Image>
                    </Button>

                    <Button x:Name="dessinerButton" Width="44" Height="59"  Background="#C5C5C5" BorderBrush="Transparent"
                           BorderThickness="0" Click="dessinerButton_Click"  >
                        <Image Source="/assets/img/ink.png" Height="30" Width="30"  />
                    </Button>
                    <Button x:Name="add_line" Width="76" Height="62"  Background="#C5C5C5" BorderBrush="Transparent"
                          BorderThickness="0" HorizontalAlignment="Center"  Margin="0,0,0,0"  IsDefault="True" Click="add_line_Click">
                        <Image Source="/assets/img/line.png" Height="59" Width="61"  />
                    </Button>


                    <Button x:Name="deleteAllButton" Width="45" Height="60"  Background="#C5C5C5" BorderBrush="Transparent"
                         BorderThickness="0" Click="deleteAllButton_Click" >
                        <Image Source="/assets/img/deleteAll.png" Height="36" Width="36"  />
                    </Button>
                    <Button x:Name="deletePreviousButton" Width="47" Height="63"  Background="#C5C5C5" BorderBrush="Transparent"
                                BorderThickness="0" Click="deletePreviousButton_Click"   >
                        <Image Source="/assets/img/deletePrevious.png" Height="27" Width="34"  />
                    </Button>
                    <Button  Name="btn1" Width="37" Height="51"  Background="{x:Null}" BorderBrush="Transparent"
                        BorderThickness="0" Margin="0,0,0,20" >
                        <Image Source="/assets/img/zoom-in.png" Height="25" Width="25"  ></Image>
                    </Button>
                    <Button  x:Name="scaleButton" Width="36" Height="48"  Background="{x:Null}" BorderBrush="Transparent"
                        BorderThickness="0" Click="scaleButton_Click" >
                        <Image Source="/assets/img/scale2.png" Height="35" Width="35"  />
                    </Button>
                    <CheckBox Content="Activer Dessin" x:Name="activerDessinCheckBox" Checked="activerDessinCheckBox_Checked" />



                </StackPanel>

            </Grid>


        </Grid>


    </Grid>
</Window>
